function sortReports(){$("#sortBy")[0]!==undefined&&($("#sortBy").change(sortReports),$(".report").sort(function(n,t){let f=$("#sortBy")[0].value,i=$("."+f+" .fieldData",n),e=$("."+f+" .fieldData",t),r,u=0;return i[0].dataset.unixtime!==undefined?(r=i[0].dataset.unixtime,u=e[0].dataset.unixtime):(r=i.text(),u=e.text()),-(r-u)}).appendTo($("#main")))}function getFieldIdsByMaxWidth(){let n=[];return $(".report div > span").each(function(){let i=$(this).outerWidth(!0),u=[].slice.apply($(this).parent()[0].classList),t=u.filter(function(n){return n.startsWith("FID")})[0],r=n.filter(function(n){return n.id===t})[0];r===undefined?n.push({id:t,width:i}):r.width<i&&(n=n.filter(function(n){return n.id!==t}),n.push({id:t,width:i}))}),n.sort(function(n,t){return n.width-t.width})}function getSmallFields(n){return n.filter(function(t){return n[0].width+t.width<900})}function getLargeFields(n){return n.filter(function(t){return n[0].width+t.width>=900})}function getsubCount(n,t){let i=0,r=t.length;for(let t in n){let u=n[t];i+u.width>900&&(r++,i=0);i+=u.width}return i>0&&r++,r}function applyReportLayout(){if(window.location.pathname.startsWith("/r")){let i=getFieldIdsByMaxWidth(),n=getLargeFields(i),t=getSmallFields(i),r=getsubCount(t,n);$("head").append("<style>.report div > span { margin-right: 0; }<\/style>");$(".report").each(function(){let i=0,u=0;for(let n=0;n<r;n++)$(this).append('<div class="reportSubcontainer" />');for(let n in t){let r=t[n];i+r.width>900&&(i=0,u++);i+=r.width;let f=$("."+r.id,this);$("> span",f).width(r.width);$(".reportSubcontainer:eq("+u+")",this).append(f)}for(let t in n){let i=n[t].id,r=$("."+i,this);$(".reportSubcontainer:empty:eq(0)",this).append(r)}})}}$(document).ready(function(){localStorage.bodyClass==="bodyLight"?$("body").addClass("bodyLight"):$("body").addClass("bodyDark");sortReports();$(".switchToLight").click(function(){$("body").addClass("bodyLight").removeClass("bodyDark");localStorage.bodyClass="bodyLight"});$(".switchToDark").click(function(){$("body").addClass("bodyDark").removeClass("bodyLight");localStorage.bodyClass="bodyDark"});$("#openAllReports").click(function(){$(".reportLink a").each(function(){var n=$(this).attr("href");window.open(n)})});$(".timestamp").each(function(){var t=new Date(+$(this)[0].dataset.unixtime),n=(Date.now()-t)/1e3,i,r,u,f;if($(this).attr("title",t.toISOString().replace("T"," ").substr(0,19)+"Z"),n<0||n>2419200){var e=t.toDateString().slice(4,15),o="'"+e.split(" ")[2].slice(2,4),s=e.slice(0,7)+o;$(this).text(s);return}n>518400?(i=Math.round(n/604800),$(this).text(i+" week"+(i==1?"":"s"))):n>86400?(r=Math.round(n/86400),$(this).text(r+" day"+(r==1?"":"s"))):n>3600?(u=Math.round(n/3600),$(this).text(u+" hour"+(u==1?"":"s"))):n>60?(f=Math.round(n/60),$(this).text(f+" minute"+(f==1?"":"s"))):$(this).text("a few seconds");$(this).text($(this).text()+" ago")})});$(window).load(applyReportLayout);